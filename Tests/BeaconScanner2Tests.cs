using Microsoft.VisualStudio.TestTools.UnitTesting;
using System.IO;

namespace AdventOfCode2021.BeaconScanner.Tests;

[TestClass]
public class BeaconScanner2Tests
{
    [TestMethod]
    [DataRow("--- scanner 0 ---\r\n404,-588,-901\r\n528,-643,409\r\n-838,591,734\r\n390,-675,-793\r\n-537,-823,-458\r\n-485,-357,347\r\n-345,-311,381\r\n-661,-816,-575\r\n-876,649,763\r\n-618,-824,-621\r\n553,345,-567\r\n474,580,667\r\n-447,-329,318\r\n-584,868,-557\r\n544,-627,-890\r\n564,392,-477\r\n455,729,728\r\n-892,524,684\r\n-689,845,-530\r\n423,-701,434\r\n7,-33,-71\r\n630,319,-379\r\n443,580,662\r\n-789,900,-551\r\n459,-707,401\r\n\r\n--- scanner 1 ---\r\n686,422,578\r\n605,423,415\r\n515,917,-361\r\n-336,658,858\r\n95,138,22\r\n-476,619,847\r\n-340,-569,-846\r\n567,-361,727\r\n-460,603,-452\r\n669,-402,600\r\n729,430,532\r\n-500,-761,534\r\n-322,571,750\r\n-466,-666,-811\r\n-429,-592,574\r\n-355,545,-477\r\n703,-491,-529\r\n-328,-685,520\r\n413,935,-424\r\n-391,539,-444\r\n586,-435,557\r\n-364,-763,-893\r\n807,-499,-711\r\n755,-354,-619\r\n553,889,-390\r\n\r\n--- scanner 2 ---\r\n649,640,665\r\n682,-795,504\r\n-784,533,-524\r\n-644,584,-595\r\n-588,-843,648\r\n-30,6,44\r\n-674,560,763\r\n500,723,-460\r\n609,671,-379\r\n-555,-800,653\r\n-675,-892,-343\r\n697,-426,-610\r\n578,704,681\r\n493,664,-388\r\n-671,-858,530\r\n-667,343,800\r\n571,-461,-707\r\n-138,-166,112\r\n-889,563,-600\r\n646,-828,498\r\n640,759,510\r\n-630,509,768\r\n-681,-892,-333\r\n673,-379,-804\r\n-742,-814,-386\r\n577,-820,562\r\n\r\n--- scanner 3 ---\r\n-589,542,597\r\n605,-692,669\r\n-500,565,-823\r\n-660,373,557\r\n-458,-679,-417\r\n-488,449,543\r\n-626,468,-788\r\n338,-750,-386\r\n528,-832,-391\r\n562,-778,733\r\n-938,-730,414\r\n543,643,-506\r\n-524,371,-870\r\n407,773,750\r\n-104,29,83\r\n378,-903,-323\r\n-778,-728,485\r\n426,699,580\r\n-438,-605,-362\r\n-469,-447,-387\r\n509,732,623\r\n647,635,-688\r\n-868,-804,481\r\n614,-800,639\r\n595,780,-596\r\n\r\n--- scanner 4 ---\r\n727,592,562\r\n-293,-554,779\r\n441,611,-461\r\n-714,465,-776\r\n-743,427,-804\r\n-660,-479,-426\r\n832,-632,460\r\n927,-485,-438\r\n408,393,-506\r\n466,436,-512\r\n110,16,151\r\n-258,-428,682\r\n-393,719,612\r\n-211,-452,876\r\n808,-476,-593\r\n-575,615,604\r\n-485,667,467\r\n-680,325,-822\r\n-627,-443,-432\r\n872,-547,-609\r\n833,512,582\r\n807,604,487\r\n839,-516,451\r\n891,-625,532\r\n-652,-548,-490\r\n30,-46,-14", 3621)]
    public void GetMaximumManhattanDistance_Always_ReturnsExpectedResult(string input, int expectedResult)
    {
        // Arrange
        var reader = new StringReader(input);
        var beaconScanner = new BeaconScanner2(reader);

        // Act
        int result = beaconScanner.GetMaximumManhattanDistance();

        // Assert
        Assert.AreEqual(expectedResult, result);
    }
}
